/* tablette + desktop */
.calc-container {
  position: relative;
  z-index: 1000;
  user-select: none;
  display: grid;
  width: 100%;
  transition: transform 300ms ease-in-out;
  grid-area: calc-container;
  grid-template-columns: repeat(7, 14.3%);
  grid-template-rows: repeat(4, 25%);
  grid-template-areas:
    "reset pi seven eight nine div paro"
    "hist prct four five six times parc"
    "conv xy one two three minus mode"
    "sales rand zero dot del plus equal";

  &.showed {
    z-index: 1;
    transform: translateY(350px);
  }

  .switch-mode {
    position: relative;
  }

  .power-switch {
    width: 50px;
    margin: 0 auto;
    height: 156px;
    position: relative;
    top: -20%;
    transform: translateX(-50%);

    .button {
      width: 100%;
      height: 100%;

      .power-on,
      .power-off {
        height: 100%;
        width: 100%;
        position: absolute;
        z-index: 1;
        fill: none;
        stroke: $red;
        stroke-width: 8px;
        stroke-linecap: round;
        stroke-linejoin: round;

        .line {
          opacity: 0.4;
        }

        .circle {
          opacity: 0.4;
          transform: rotate(-58deg);
          transform-origin: center 80px;
          stroke-dasharray: 220;
          stroke-dashoffset: 40;
        }
      }

      .power-on {
        .line {
          opacity: 0;
          transition: opacity 0.3s ease 1s;
        }

        .circle {
          opacity: 1;
          stroke-dashoffset: 220;
          transition: transform 0s ease, stroke-dashoffset 1s ease 0s;
        }
      }
    }

    input {
      position: absolute;
      z-index: 2;
      width: 100%;
      height: 100%;
      cursor: pointer;
      opacity: 0;

      &:checked + .button:after {
        opacity: 0.15;
        transform: scale(2) perspective(1px) translateZ(0);
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        transition: opacity 0.5s ease, transform 0.5s ease;
      }

      &:checked + .button {
        .power-on,
        .power-off {
          -webkit-animation: click-animation 0.3s ease forwards;
          animation: click-animation 0.3s ease forwards;
          transform: scale(1);
        }

        .power-on {
          .line {
            -webkit-animation: line-animation 0.8s ease-in forwards;
            animation: line-animation 0.8s ease-in forwards;
          }

          .circle {
            transform: rotate(302deg);
          }
        }

        .power-on {
          .line {
            opacity: 1;
            transition: opacity 0.05s ease-in 0.55s;
          }

          .circle {
            transform: rotate(302deg);
            stroke-dashoffset: 40;
            transition: transform 0.4s ease 0.2s, stroke-dashoffset 0.4s ease 0.2s;
          }
        }
      }
    }
  }

  @-webkit-keyframes line-animation {
    0% {
      transform: translateY(0);
    }
    10% {
      transform: translateY(10px);
    }
    40% {
      transform: translateY(-25px);
    }
    60% {
      transform: translateY(-25px);
    }
    85% {
      transform: translateY(10px);
    }
    100% {
      transform: translateY(0px);
    }
  }

  @keyframes line-animation {
    0% {
      transform: translateY(0);
    }
    10% {
      transform: translateY(10px);
    }
    40% {
      transform: translateY(-25px);
    }
    60% {
      transform: translateY(-25px);
    }
    85% {
      transform: translateY(10px);
    }
    100% {
      transform: translateY(0px);
    }
  }

  @-webkit-keyframes click-animation {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(0.9);
    }
    100% {
      transform: scale(1);
    }
  }

  @keyframes click-animation {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(0.9);
    }
    100% {
      transform: scale(1);
    }
  }

  .reset {
    grid-area: reset;
  }
  .mode {
    grid-area: mode;
    overflow: hidden;
    position: absolute;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
    top: 50%;
  }
  .prct {
    grid-area: prct;
  }
  .div {
    grid-area: div;
  }
  .hist {
    grid-area: hist;
  }
  .conv {
    grid-area: conv;
  }
  .sales {
    grid-area: sales;
  }
  .seven {
    grid-area: seven;
  }
  .eight {
    grid-area: eight;
  }
  .nine {
    grid-area: nine;
  }
  .times {
    grid-area: times;
  }
  .four {
    grid-area: four;
  }
  .five {
    grid-area: five;
  }
  .six {
    grid-area: six;
  }
  .minus {
    grid-area: minus;
  }
  .one {
    grid-area: one;
  }
  .two {
    grid-area: two;
  }
  .three {
    grid-area: three;
  }
  .plus {
    grid-area: plus;
  }
  .zero {
    grid-area: zero;
  }
  .dot {
    grid-area: dot;
  }
  .del {
    grid-area: del;
  }
  .equal {
    grid-area: equal;
    z-index: 1000;
    width: 90%;
    height: 90%;
    margin: auto;
  }
  .conv {
    grid-area: conv;
  }
  .sales {
    grid-area: sales;
  }
  .pi {
    grid-area: pi;
  }
  .xy {
    grid-area: xy;
  }
  .rand {
    grid-area: rand;
  }
  .paro {
    grid-area: paro;
  }
  .parc {
    grid-area: parc;
  }

  .hidden {
    display: none;
    background: transparent;
    position: absolute;
    z-index: 1000;
    top: 0;
    width: 100%;
    height: 100px;
  }
}

button {
  cursor: pointer;
  background: transparent;
  border: none;
  font-size: 2rem;
  font-family: $medium;
}

button:hover button::after {
  background-color: #e72b16;
  color: $white;
  border-radius: 7px;
}

.function {
  color: $grey;
}

.number {
  color: $white;
  -webkit-transition: 1s color ease-in-out;
  -o-transition: 1s color ease-in-out;
  transition: 1s color ease-in-out;
}

.btn {
  background-color: $red;
  color: $white;
  border-radius: 7px;
}

.btn:hover {
  background-color: #e72b16;
}

sup {
  padding-bottom: 27px;
  font-size: 1rem;
}

.menu-open svg,
.menu-close svg {
  margin-top: 10px;
}

/* format smartphones */
@media screen and (max-width: 768px) {
  .calc-container {
    grid-template-columns: repeat(4, 25%);
    grid-template-rows: repeat(5, 20%);
    grid-template-areas:
      "reset mode prct div"
      "seven eight nine times"
      "four five six minus"
      "one two three plus"
      "zero dot del equal";
  }
  .power-switch {
    top: -25%;
  }
  h3 {
    font-size: 4rem !important;
  }
  nav {
    font-size: 0.9rem;
  }
}

/* format tablette */
@media screen and (min-width: 769px) and (max-width: 1366px) {
  .power-switch {
    top: -0%;
  }
  nav {
    font-size: 1rem;
  }
}

/* format desktop */
@media screen and (min-width: 1367px) {
  .power-switch {
    top: -0%;
  }
  nav {
    font-size: 1.2rem;
  }
}
